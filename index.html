<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Egzamin Algorytmy - Symulator</title>
    <style>
        body {
            background-color: #131314;
            color: #e3e3e3;
            font-family: 'Google Sans', Roboto, Arial, sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            padding: 20px;
        }

        /* Pasek postępu i nagłówek */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            font-size: 14px;
            color: #9aa0a6;
        }

        .progress-bar {
            flex-grow: 1;
            height: 4px;
            background-color: #303134;
            border-radius: 2px;
            margin-right: 20px;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background-color: #8ab4f8;
            width: 0%;
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        .score-badge {
            background-color: #1e1f20;
            padding: 4px 12px;
            border-radius: 16px;
            display: flex;
            gap: 10px;
            font-weight: bold;
        }
        .score-correct { color: #81c995; }
        .score-wrong { color: #f28b82; }

        /* Pytanie */
        .question-text {
            font-size: 20px;
            line-height: 1.5;
            margin-bottom: 40px;
            font-weight: 500;
        }

        .category-label {
            color: #8ab4f8;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
            display: block;
        }

        /* Odpowiedzi */
        .options-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-btn {
            background-color: #1e1f20;
            border: 1px solid transparent;
            border-radius: 8px;
            padding: 16px 24px;
            color: #e3e3e3;
            text-align: left;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
        }

        .option-btn:hover {
            background-color: #303134;
        }

        .option-letter {
            font-weight: bold;
            margin-right: 16px;
            color: #9aa0a6;
        }

        /* Stany odpowiedzi */
        .option-btn.correct {
            background-color: #132a1c; /* Ciemny zielony */
            border-color: #81c995;
            color: #81c995;
        }
        
        .option-btn.wrong {
            background-color: #3c1e1e; /* Ciemny czerwony */
            border-color: #f28b82;
            color: #f28b82;
        }
        
        .option-btn.disabled {
            pointer-events: none;
            opacity: 0.6;
        }

        /* Przycisk Dalej */
        .next-btn-container {
            display: flex;
            justify-content: flex-end;
            margin-top: 30px;
        }

        .next-btn {
            background-color: #8ab4f8;
            color: #202124;
            border: none;
            padding: 10px 24px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
            display: none; /* Ukryty dopóki nie odpowiesz */
        }

        .next-btn:hover {
            background-color: #aecbfa;
        }

        /* Ekran końcowy */
        .results {
            text-align: center;
            display: none;
        }
        .results h1 { font-size: 32px; margin-bottom: 20px; }
        .result-item { margin: 10px 0; font-size: 18px; color: #9aa0a6; }
        .pass { color: #81c995; font-weight: bold; }
        .fail { color: #f28b82; font-weight: bold; }

    </style>
</head>
<body>

<div class="container" id="quiz-container">
    <div class="header">
        <div class="progress-bar">
            <div class="progress-fill" id="progress"></div>
        </div>
        <div id="counter">1 / 36</div>
        <div class="score-badge" style="margin-left: 15px;">
            <span class="score-wrong">✕ <span id="wrong-count">0</span></span>
            <span class="score-correct">✔ <span id="correct-count">0</span></span>
        </div>
    </div>

    <span class="category-label" id="category-label">Efekt W1 - Podstawy</span>
    <div class="question-text" id="question-text">
        Ładowanie pytania...
    </div>

    <div class="options-grid" id="options-container">
        </div>

    <div class="next-btn-container">
        <button class="next-btn" id="next-btn" onclick="nextQuestion()">Dalej</button>
    </div>
</div>

<div class="container results" id="results-screen">
    <h1>Wyniki Egzaminu</h1>
    <div id="results-details"></div>
    <button class="next-btn" style="display:inline-block; margin-top:20px;" onclick="location.reload()">Spróbuj ponownie</button>
</div>

<script>
    // Baza pytań (wszystkie 36 z Twoich zdjęć)
    const questions = [
        // --- EFEKT W1 ---
        {
            cat: "W1 - Złożoność",
            q: "Jeśli funkcja kosztu algorytmu rekurencyjnego to C(n) = C(n/2) + 1 dla n > 1, to złożoność jest rzędu:",
            options: ["Θ(1)", "Θ(n)", "Θ(log n)", "Θ(n log n)"],
            correct: 2 // C
        },
        {
            cat: "W1 - Złożoność",
            q: "Jeśli złożoności 3 algorytmów to odpowiednio: Θ(n²), Θ(log n), Θ(2^n), to są to algorytmy:",
            options: ["wielomianowy, logarytmiczny, potęgowy", "kwadratowy, logarytmiczny, dwójkowy/wykładniczy", "kwadratowy, logarytmiczny, liniowy", "żadna z odpowiedzi"],
            correct: 1 // B
        },
        {
            cat: "W1 - Klasy problemów",
            q: "Klasa problemów NP, do której każdy inny problem NP się redukuje, to:",
            options: ["Klasa P", "Klasa NP", "NP-trudne", "NP-zupełne"],
            correct: 3 // D
        },
        {
            cat: "W1 - Efektywność",
            q: "Uszeregowanie złożoności od najwolniejszych do najszybszych:",
            options: ["O(n²), O(log n), O(2^n)", "O(2^n), O(n²), O(n log n)", "O(n²), O(log n), O(1)", "O(n²), O(n), O(n log n)"],
            correct: 1 // B
        },
        {
            cat: "W1 - Inkluzje",
            q: "Który zestaw inkluzji jest w pełni niepoprawny?",
            options: ["NP ⊂ P-SPACE...", "P ⊆ NP...", "NP ⊂ P, NP ⊂ NP-zupełne, P-SPACE ⊂ P", "P-SPACE ⊂ P..."],
            correct: 2 // C (NP podzbiorem P to fałsz/nieznane)
        },
        {
            cat: "W1 - Rekurencja",
            q: "Które równanie to rekurencja prosta? R1: C(n)=2C(n/3)+1, R2: f(n)=2f(n-1)+1, R3: C(n)=C(n/2)+n+2",
            options: ["tylko R2", "tylko R3", "R2 i R3", "żadne"],
            correct: 0 // A
        },
        {
            cat: "W1 - Binary Search",
            q: "Czy w rekurencyjnym przeszukiwaniu tablicy uporządkowanej warto używać rekurencji rozgałęzionej (dzielić na 2 i szukać w obu)?",
            options: ["Tak, warto szukać w obu", "Nie, wystarczy szukać tylko w jednej", "Bez znaczenia", "Trudno porównać"],
            correct: 1 // B
        },
        {
            cat: "W1 - Wykładnicza",
            q: "Jeśli mam algorytm wykładniczy i bardzo duże dane, co zrobić?",
            options: ["Zaimplementować i uruchomić", "Szybszy procesor", "Więcej rdzeni", "Żadna z powyższych (nic nie pomoże)"],
            correct: 3 // D
        },
        {
            cat: "W1 - Pamięć",
            q: "Jeśli algorytm weryfikuje w pamięci wielomianowej, to czy istnieje algorytm rozwiązujący w pamięci wielomianowej?",
            options: ["Tak (Tw. Savitcha)", "Tak (Tw. Cooka)", "Nie zawsze", "Trudno powiedzieć"],
            correct: 0 // A
        },

        // --- EFEKT W2 ---
        {
            cat: "W2 - Struktury",
            q: "Rzędy złożoności: wstawianie do drzewa, szukanie w tablicy uporządkowanej, usuwanie z tablicy mieszającej:",
            options: ["Θ(log n), Θ(log n), Θ(1)", "Θ(1), Θ(n), Θ(n)", "Θ(n), Θ(log n), Θ(1)", "Θ(log n), Θ(n), Θ(1)"],
            correct: 0 // A
        },
        {
            cat: "W2 - Listy",
            q: "Struktura naturalna do implementacji listy abstrakcyjnej to:",
            options: ["Tablica dynamiczna", "Tablica mieszająca", "Drzewo binarne", "Lista powiązana"],
            correct: 3 // D
        },
        {
            cat: "W2 - Grafy",
            q: "Reprezentacja grafu jako macierz kwadratowa z informacją o krawędziach:",
            options: ["Metoda sąsiadów", "Metoda sąsiedztwa", "Metoda listy sąsiedztwa", "Żadna z wymienionych (Macierz sąsiedztwa)"],
            correct: 3 // D
        },
        {
            cat: "W2 - Usuwanie",
            q: "Najszybsza operacja usuwania elementu (mając do niego dostęp):",
            options: ["Tablica dynamiczna", "Uporządkowana tablica", "Zrównoważone drzewo", "Lista powiązana"],
            correct: 3 // D
        },
        {
            cat: "W2 - Wyszukiwanie",
            q: "Najwolniejsza operacja wyszukiwania:",
            options: ["Tablica dynamiczna (nieuporządkowana)", "Uporządkowana tablica", "Zrównoważone drzewo", "Tablica mieszająca"],
            correct: 0 // A (O(n))
        },
        {
            cat: "W2 - Wstawianie",
            q: "Najwolniejsza operacja wstawiania:",
            options: ["Tablica dynamiczna", "Uporządkowana lista powiązana", "Zrównoważone drzewo", "Tablica mieszająca"],
            correct: 1 // B (bo trzeba znaleźć miejsce O(n))
        },
        {
            cat: "W2 - Zastosowanie",
            q: "Potrzeba: szybkie wstawianie, oszczędność pamięci. Szukanie nieistotne.",
            options: ["Tablica dynamiczna", "Lista powiązana", "Tablica mieszająca", "Drzewo binarne"],
            correct: 1 // B
        },
        {
            cat: "W2 - Zastosowanie",
            q: "Potrzeba: oszczędność pamięci i uporządkowanie. Szybkość operacji nieistotna.",
            options: ["Tablica dynamiczna uporządkowana", "Lista powiązana uporządkowana", "Tablica mieszająca", "Drzewo binarne"],
            correct: 0 // A
        },
        {
            cat: "W2 - Zastosowanie",
            q: "Potrzeba: szybkie wstawianie. Reszta nieistotna.",
            options: ["Tablica dynamiczna", "Lista powiązana", "Tablica mieszająca", "Drzewo binarne"],
            correct: 1 // B (zawsze O(1) na start)
        },

        // --- EFEKT W3 ---
        {
            cat: "W3 - Sortowanie",
            q: "Sortowanie przez wybór jest metodą:",
            options: ["dokładną", "aproksymacyjną", "dokładną i aproksymacyjną", "trudno powiedzieć"],
            correct: 0 // A
        },
        {
            cat: "W3 - Metody",
            q: "Dzielenie tablicy na dwie części, rekurencyjne sortowanie i scalanie to:",
            options: ["Bąbelkowa", "Przez wybór", "Przez wstawianie", "Żadna (Scalanie)"],
            correct: 3 // D
        },
        {
            cat: "W3 - Grafy",
            q: "Odwiedzanie wierzchołków warstwami (tak samo odległymi):",
            options: ["BFS (wszerz)", "DFS (w głąb)", "Programowanie dynamiczne", "Żadna"],
            correct: 0 // A
        },
        {
            cat: "W3 - Optymalność",
            q: "Zgodnie z dolnym ograniczeniem sortowania, optymalny jest:",
            options: ["Przez scalanie", "Przez wybór", "Przez wstawianie", "Żaden"],
            correct: 0 // A
        },
        {
            cat: "W3 - Algorytmy",
            q: "Które stwierdzenie jest fałszywe:",
            options: ["Zachłanny nie działa -> Monte Carlo", "Błądzenie losowe to Monte Carlo", "Tylko brute force daje dokładne wyniki", "Dynamik to dziel i zwyciężaj"],
            correct: 2 // C (Jest fałszywe, bo inne też dają dokładne)
        },
        {
            cat: "W3 - Pamięć Grafu",
            q: "BFS: minimalny wpływ rozmiaru wierzchołków na pamięć. Używamy:",
            options: ["Listy sąsiedztwa", "Macierzy sąsiedztwa", "Obu", "Nie ma wpływu"],
            correct: 0 // A
        },
        {
            cat: "W3 - Duża przestrzeń",
            q: "Bardzo duża przestrzeń stanów, nie zależy nam na dokładnym rozwiązaniu:",
            options: ["Brutalna siła", "Metoda Monte Carlo", "Dziel i zwyciężaj", "Żadna"],
            correct: 1 // B
        },
        {
            cat: "W3 - Komiwojażer",
            q: "TSP dla 10000 miast. Jaka metoda NIE może być użyta?",
            options: ["Nawroty", "Zachłanny", "Monte Carlo", "Brutalna siła (wszystkie permutacje)"],
            correct: 3 // D
        },
        {
            cat: "W3 - Sortowanie liczb",
            q: "Sortowanie liczb całkowitych 0..k-1. Najlepsza metoda:",
            options: ["Przez wybór", "Przez zliczanie", "Przez scalanie", "Szybkie"],
            correct: 1 // B
        },

        // --- EFEKT W4 ---
        {
            cat: "W4 - Poprawność",
            q: "Metoda dowodzenia częściowej poprawności:",
            options: ["liczników iteracji", "malejących wielkości", "niezmienników iteracji", "żadna"],
            correct: 2 // C
        },
        {
            cat: "W4 - Definicje",
            q: "Warunek opisujący własność poprawnych wyników:",
            options: ["rozpoczęcia", "początkowy", "końcowy", "stopu"],
            correct: 2 // C
        },
        {
            cat: "W4 - Własności",
            q: "Dla danych spełniających warunek początkowy obliczenie jest skończone. To własność:",
            options: ["początkowa", "określoności", "końcowa", "żadna (stopu)"],
            correct: 3 // D
        },
        {
            cat: "W4 - Stop",
            q: "Metoda dowodu stopu (wielkość malejąca ograniczona z dołu):",
            options: ["liczników iteracji", "malejących wielkości", "niezmienników iteracji", "żadna"],
            correct: 1 // B
        },
        {
            cat: "W4 - Określoność",
            q: "Operacje niezagrażające określoności:",
            options: ["dodawanie, odejmowanie, mnożenie", "mnożenie, dzielenie, pierwiastek", "pierwiastek, dzielenie...", "logarytm..."],
            correct: 0 // A
        },
        {
            cat: "W4 - Niezmienniki",
            q: "Dowód częściowej poprawności metodą niezmienników polega na:",
            options: ["wykazaniu indukcyjnym...", "sprawdzaniu w miejscach...", "porównaniu wyników...", "żadne"],
            correct: 0 // A
        },
        {
            cat: "W4 - Błędy",
            q: "Program się zawiesił. Nie sprawdzono własności:",
            options: ["częściowej poprawności", "stopu", "określoności", "żadnej"],
            correct: 1 // B
        },
        {
            cat: "W4 - Błędy",
            q: "Program policzył minimum zamiast maksimum. Nie sprawdzono:",
            options: ["częściowej poprawności", "stopu", "określoności", "żadnej"],
            correct: 0 // A
        },
        {
            cat: "W4 - Błędy",
            q: "Błąd pierwiastka z liczby ujemnej. Nie sprawdzono:",
            options: ["częściowej poprawności", "stopu", "określoności", "żadnej"],
            correct: 2 // C
        }
    ];

    let currentIdx = 0;
    let correctCount = 0;
    let wrongCount = 0;
    
    // Zmienne do zliczania punktów w sekcjach
    let scores = { w1:0, w2:0, w3:0, w4:0 };

    const qText = document.getElementById("question-text");
    const catLabel = document.getElementById("category-label");
    const optionsContainer = document.getElementById("options-container");
    const nextBtn = document.getElementById("next-btn");
    const progressFill = document.getElementById("progress");
    const counterDiv = document.getElementById("counter");
    const correctDiv = document.getElementById("correct-count");
    const wrongDiv = document.getElementById("wrong-count");

    function renderQuestion() {
        if(currentIdx >= questions.length) {
            showResults();
            return;
        }

        const q = questions[currentIdx];
        qText.innerText = q.q;
        catLabel.innerText = q.cat;
        
        counterDiv.innerText = `${currentIdx + 1} / ${questions.length}`;
        let progressPct = (currentIdx / questions.length) * 100;
        progressFill.style.width = `${progressPct}%`;

        optionsContainer.innerHTML = "";
        nextBtn.style.display = "none";

        q.options.forEach((opt, idx) => {
            const btn = document.createElement("button");
            btn.className = "option-btn";
            
            const letter = String.fromCharCode(65 + idx); // A, B, C...
            btn.innerHTML = `<span class="option-letter">${letter}.</span> ${opt}`;
            
            btn.onclick = () => checkAnswer(btn, idx, q.correct);
            optionsContainer.appendChild(btn);
        });
    }

    function checkAnswer(selectedBtn, selectedIdx, correctIdx) {
        // Zablokuj wszystkie
        const allBtns = optionsContainer.querySelectorAll(".option-btn");
        allBtns.forEach(btn => btn.classList.add("disabled"));

        if (selectedIdx === correctIdx) {
            selectedBtn.classList.add("correct");
            correctCount++;
            correctDiv.innerText = correctCount;
            // Zliczanie do sekcji
            if(currentIdx < 9) scores.w1++;
            else if(currentIdx < 18) scores.w2++;
            else if(currentIdx < 27) scores.w3++;
            else scores.w4++;
        } else {
            selectedBtn.classList.add("wrong");
            // Pokaż poprawną
            allBtns[correctIdx].classList.add("correct");
            // Usuń klasę disabled z poprawnej żeby było widać kolor wyraźnie
            allBtns[correctIdx].classList.remove("disabled");
            wrongCount++;
            wrongDiv.innerText = wrongCount;
        }

        nextBtn.style.display = "block";
    }

    function nextQuestion() {
        currentIdx++;
        renderQuestion();
    }

    function showResults() {
        document.getElementById("quiz-container").style.display = "none";
        const resScreen = document.getElementById("results-screen");
        resScreen.style.display = "block";
        
        const details = document.getElementById("results-details");
        
        const checkPass = (score) => score >= 3 ? "<span class='pass'>ZALICZONE</span>" : "<span class='fail'>NIEZALICZONE</span>";

        details.innerHTML = `
            <div class="result-item">Efekt W1 (Złożoność): ${scores.w1}/9 - ${checkPass(scores.w1)}</div>
            <div class="result-item">Efekt W2 (Struktury): ${scores.w2}/9 - ${checkPass(scores.w2)}</div>
            <div class="result-item">Efekt W3 (Algorytmy): ${scores.w3}/9 - ${checkPass(scores.w3)}</div>
            <div class="result-item">Efekt W4 (Poprawność): ${scores.w4}/9 - ${checkPass(scores.w4)}</div>
            <br>
            <div class="result-item">Łączny wynik: <b>${correctCount}</b> / 36</div>
        `;
    }

    // Start
    renderQuestion();

</script>

</body>
</html>